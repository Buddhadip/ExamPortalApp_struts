const sidebar = document.querySelector(".sidebar");
const sidebarClose = document.querySelector("#sidebar-close");
const menu = document.querySelector(".menu-content");
const menuItems = document.querySelectorAll(".submenu-item");
const subMenuTitles = document.querySelectorAll(".submenu .menu-title");

sidebarClose.addEventListener("click", () => sidebar.classList.toggle("close"));

menuItems.forEach((item, index) => {
  item.addEventListener("click", () => {
    menu.classList.add("submenu-active");
    item.classList.add("show-submenu");
    menuItems.forEach((item2, index2) => {
      if (index !== index2) {
        item2.classList.remove("show-submenu");
      }
    });
  });
});

subMenuTitles.forEach((title) => {
  title.addEventListener("click", () => {
    menu.classList.remove("submenu-active");
  });
});


function deleteStudent(id){
		console.log(id)
		 $.ajax({
		    type: "GET",
		    url: "deleteStudent.do",
		    data: { id:id },
		    success: function(response) {
		      // handle success response
		      //location.reload();
		      document.getElementById(id+"-row").style.display="none";
		      document.getElementById(id+"-form").style.display="none";
		      console.log("Student deleted successfully.");
		      location.reload();
		    },
		    error: function(jqXHR, textStatus, errorThrown) {
		      // handle error response
		      alert("Error deleting student:");
		    }
		  });	
	}
